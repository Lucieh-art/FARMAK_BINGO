
<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Farmak Bingo</title>
  <style>
    body {
      font-family: sans-serif;
      background: white;
      color: #1e3a8a;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      margin-top: 20px;
    }
    .cell {
      border: 1px solid #93c5fd;
      background-color: #dbeafe;
      padding: 12px;
      text-align: center;
      border-radius: 12px;
      cursor: pointer;
      user-select: none;
    }
    .cell.marked {
      background-color: #3b82f6;
      color: white;
    }
    .controls {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }
    button {
      background-color: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      cursor: pointer;
    }
    .bingo {
      font-size: 1.5rem;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Farmak Bingo</h1>
  <label for="playerSelect">Vyber ÄÃ­slo hrÃ¡Äe (1â€“16):</label>
  <select id="playerSelect">
    <option value="">-- Vyber ÄÃ­slo hrÃ¡Äe --</option>
<option value="1">HrÃ¡Ä 1</option>
<option value="2">HrÃ¡Ä 2</option>
<option value="3">HrÃ¡Ä 3</option>
<option value="4">HrÃ¡Ä 4</option>
<option value="5">HrÃ¡Ä 5</option>
<option value="6">HrÃ¡Ä 6</option>
<option value="7">HrÃ¡Ä 7</option>
<option value="8">HrÃ¡Ä 8</option>
<option value="9">HrÃ¡Ä 9</option>
<option value="10">HrÃ¡Ä 10</option>
<option value="11">HrÃ¡Ä 11</option>
<option value="12">HrÃ¡Ä 12</option>
<option value="13">HrÃ¡Ä 13</option>
<option value="14">HrÃ¡Ä 14</option>
<option value="15">HrÃ¡Ä 15</option>
<option value="16">HrÃ¡Ä 16</option>
  </select>
  <div class="controls">
    <button onclick="generateBoard()">Zobrazit tabulku</button>
    <div class="bingo" id="bingoMsg"></div>
  </div>
  <div class="grid" id="bingoGrid" style="display:none;"></div>

  <script>
    const hlasky = [
      "Ahojky","ChÃ¡pu to sprÃ¡vnÄ›","Jo, jÃ¡ jsem si nezapl mikrofon","Aho (Monika)","HezkÃ½ den",
      "Alfuzosin je nadÃ½chanÃ½","Hrudky","SvolÃ¡m Å™eÅ¡itelskou schÅ¯zku","Co na uni","reklamace brimonidin",
      "plÃ½tvÃ¡nÃ­","pokrok s ABBF","A pÅ™eji hezkÃ½ nadchÃ¡zejÃ­cÃ­ vÃ­kend.","Uhm, okÃ¡","ObligÃ¡tnÃ­ dotaz",
      "Å™eÅ¡itelskÃ¡ schÅ¯zka","manaÅ¾erskÃ¡ pÄ›timinutovka","ÃºÄast z ostatnÃ­ch oddÄ›lenÃ­","VÃ¡Å¾enÃ­!","PÅ™Ã¡telÃ©!",
      "MÃ¡te jeÅ¡tÄ› nÄ›kdo nÄ›co, co nebyl zmÃ­nÄ›no v dneÅ¡nÃ­ agendÄ›?","Nebudeme zdrÅ¾ovat ostatnÃ­","Leo mlÄÃ­, kdyÅ¾ se nÄ›kdo hÃ¡dÃ¡.",
      "ZdeÅˆku, jak to vidÃ­Å¡?","RozumÃ­me si?","vysdÃ­lÃ­me si to jen mezi sebou","Na NovÃ© hale nic novÃ©ho",
      "NasdÃ­lel jsem dneÅ¡nÃ­ agendu","VT vyÅ™eÅ¡Ã­","dÃ¡vÃ¡ to takto smysl","J. Chaloupkovi pÃ­skajÃ­ ptÃ¡ci",
      "ZdravÃ­m vÅ¡echny","Monika Å™Ã­kÃ¡ svÅ¯j nÃ¡zor","Jo, super, dÄ›kuju","DÄ›kuji pÅ™edem","Å½Ã¡dnÃ½ pracovnÃ­ Ãºraz","Jen tak dÃ¡le"
    ];
    let marked = [];

    function seededShuffle(array, seed) {
      let result = array.slice();
      let m = result.length, t, i;
      while (m) {
        i = Math.floor(random(seed) * m--);
        t = result[m];
        result[m] = result[i];
        result[i] = t;
        seed++;
      }
      return result;
    }

    function random(seed) {
      const x = Math.sin(seed++) * 10000;
      return x - Math.floor(x);
    }

    function hashCode(str) {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        hash = ((hash << 5) - hash) + str.charCodeAt(i);
        hash |= 0;
      }
      return Math.abs(hash) % 100000;
    }

    function generateBoard() {
      const playerSelect = document.getElementById('playerSelect');
      const player = parseInt(playerSelect.value);
      if (!player) return;

      const date = new Date().toISOString().slice(0, 10);
      const seed = hashCode(player + '-' + date);
      const selected = seededShuffle(hlasky, seed).slice(0, 24);
      selected.splice(12, 0, "BINGO");
      marked = Array(25).fill(false);
      marked[12] = true;

      const grid = document.getElementById('bingoGrid');
      grid.innerHTML = "";
      document.getElementById('bingoMsg').textContent = "";
      grid.style.display = "grid";

      selected.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'cell' + (index === 12 ? ' marked' : '');
        div.textContent = item;
        div.onclick = () => {
          if (index !== 12) {
            marked[index] = !marked[index];
            div.classList.toggle('marked');
            if (checkBingo()) document.getElementById('bingoMsg').textContent = "ğŸ‰ BINGO! VyhrÃ¡vÃ¡Å¡!";
          }
        };
        grid.appendChild(div);
      });
    }

    function checkBingo() {
      const winPatterns = [
        [0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],
        [0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],
        [0,6,12,18,24],[4,8,12,16,20]
      ];
      return winPatterns.some(pattern => pattern.every(i => marked[i]));
    }
  </script>
</body>
</html>
